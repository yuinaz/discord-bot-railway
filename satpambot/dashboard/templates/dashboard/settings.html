<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Settings • SatpamBot</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{--bg:#0b111b;--panel:#111827;--muted:#9aa4b2;--line:#1f2937;--accent:#2563eb;--text:#e6edf3}
*{box-sizing:border-box} body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
.wrap{max-width:760px;margin:24px auto;padding:0 16px}
.card{background:var(--panel);border:1px solid var(--line);border-radius:12px;padding:16px}
h1{font-size:20px;margin:0 0 10px} hr{border:0;border-top:1px solid var(--line);margin:10px 0 14px}
label{display:block;margin:10px 0 6px;font-weight:600}
input,select{width:100%;padding:10px;border-radius:10px;border:1px solid var(--line);background:#0f172a;color:#e6edf3}
.row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.actions{display:flex;gap:10px;margin-top:14px}
.btn{background:var(--accent);color:#fff;border:0;border-radius:10px;padding:10px 14px;font-weight:600;text-decoration:none;cursor:pointer}
.btn.secondary{background:#334155}
.note{color:var(--muted);font-size:13px}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>Settings</h1>
    <hr>
    <div class="row">
      <div>
        <label for="logo_url">Logo URL</label>
        <input id="logo_url" placeholder="https://.../logo.png">
        <div class="note">Kosongkan untuk menyembunyikan logo.</div>
      </div>
      <div>
        <label for="bg_url">Background URL</label>
        <input id="bg_url" placeholder="https://.../background.jpg">
        <div class="note">Kosongkan untuk menggunakan warna background.</div>
      </div>
    </div>
    <div class="row">
      <div>
        <label for="accent">Accent Color</label>
        <input id="accent" value="#2563eb" placeholder="#2563eb">
        <div class="note">Hex color (#rgb atau #rrggbb).</div>
      </div>
      <div>
        <label for="theme">Theme</label>
        <select id="theme">
          <option value="dark">Dark</option>
          <option value="light">Light</option>
        </select>
      </div>
    </div>
    <div class="actions">
      <button class="btn" id="save">Simpan</button>
      <a class="btn secondary" href="/dashboard">Kembali</a>
    </div>
    <div id="msg" class="note" style="margin-top:10px"></div>
  </div>
</div>
<script>
async function getUI(){ try{const r=await fetch('/api/ui-settings'); return await r.json(); }catch(e){ return null; } }
async function saveUI(data){
  const r = await fetch('/api/ui-settings', {method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(data)});
  return await r.json();
}
function setVal(id,val){ const el=document.getElementById(id); if(el) el.value = val || ''; }
function getVal(id){ const el=document.getElementById(id); return el? el.value.trim():''; }
(async()=>{
  const ui = await getUI();
  if(ui){ setVal('logo_url',ui.logo_url); setVal('bg_url',ui.bg_url); setVal('accent',ui.accent); setVal('theme',ui.theme); }
  document.getElementById('save').onclick=async()=>{
    const data = {logo_url:getVal('logo_url'), bg_url:getVal('bg_url'), accent:getVal('accent'), theme:getVal('theme')};
    const res = await saveUI(data);
    const msg = document.getElementById('msg');
    if(res && res.ok){ msg.textContent = '✅ Tersimpan.'; } else { msg.textContent = '❌ Gagal menyimpan.'; }
  };
})();</script>
</body></html>

<!doctype html>
<meta name=viewport content="width=device-width, initial-scale=1">
<title>SatpamBot • Admin Login</title>
<style>
:root{--bg:#0b0e14;--card:#141923;--border:#222b3b;--text:#e6e6e6;--muted:#a8b0c2;--sb-bg-url:'';--sb-bg-opacity:0.15}
[data-theme="light"]{--bg:#f6f7fb;--card:#ffffff;--border:#e6e8ef;--text:#1f2737;--muted:#4b5565}
html,body{height:100%}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text);display:grid;place-items:center;margin:0}
body::before{content:"";position:fixed;inset:0;z-index:-1;background-image:var(--sb-bg-url);background-size:cover;background-position:center;opacity:var(--sb-bg-opacity)}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:28px;min-width:360px;max-width:520px;box-shadow:0 8px 32px rgba(0,0,0,.35)}
.brand{display:flex;gap:10px;align-items:center;margin-bottom:12px}
.brand svg{width:28px;height:28px}
input,button{width:100%;padding:12px 14px;border-radius:10px;font-size:15px}
input{border:1px solid var(--border);background:transparent;color:var(--text);margin-top:8px}
button{margin-top:16px;border:none;background:#5865F2;color:#fff;font-weight:700;cursor:pointer}
.err{color:#ff6b6b;margin:8px 0 0 0;font-size:.92rem}
#widget{position:fixed;top:10px;right:10px;background:var(--card);border:1px solid var(--border);border-radius:12px;padding:10px;box-shadow:0 8px 28px rgba(0,0,0,.35);}
#widget input[type=url]{min-width:240px;padding:8px 10px;border-radius:10px;border:1px solid var(--border);background:transparent;color:var(--text)}
#widget input[type=range]{width:120px}
#widget button{padding:8px 10px;border:1px solid var(--border);border-radius:10px;background:transparent;color:var(--text);cursor:pointer;font-weight:600}
#widget .primary{background:#5865F2;border-color:#5865F2;color:#fff}
</style>
<div id="widget">
  <div><button id="theme" class="primary">Theme</button> <button id="back">Back</button></div>
  <div style="margin-top:6px">
    <input id="bg" type="url" placeholder="Background URL"><input id="op" type="range" min="0" max="0.7" step="0.01" value="0.15">
  </div>
</div>
<div class=card>
  <div class=brand>
    <svg viewBox='0 0 24 24' fill='#5865F2'><path d='M12 2l3 4 5 1-3 4 1 5-6-3-6 3 1-5-3-4 5-1z'/></svg>
    <h2 style='margin:0'>SatpamBot • Admin</h2>
  </div>
  {% if err %}<div class=err>{{ err }}</div>{% endif %}
  <form method="POST" action="">
    <label>Username</label>
    <input name="username" autocomplete="username" required>
    <label>Password</label>
    <input name="password" type="password" autocomplete="current-password" required>
    <button type="submit">Login</button>
  </form>
</div>
<script>
(function(){
  try{
    var t=localStorage.getItem("sb_theme")||"dark";
    if(t==="light") document.documentElement.setAttribute("data-theme","light");
    var u=localStorage.getItem("sb_bg_url")||""; var o=localStorage.getItem("sb_bg_opacity")||"0.15";
    document.querySelector("#bg").value=u; document.querySelector("#op").value=o;
    var apply=function(){ var url=document.querySelector("#bg").value.trim(); localStorage.setItem("sb_bg_url",url); document.documentElement.style.setProperty("--sb-bg-url",url?`url("${url}")`:"none"); };
    var applyOp=function(){ var v=document.querySelector("#op").value; localStorage.setItem("sb_bg_opacity",v); document.documentElement.style.setProperty("--sb-bg-opacity",v); };
    apply(); applyOp();
    document.querySelector("#bg").addEventListener("change",apply);
    document.querySelector("#op").addEventListener("input",applyOp);
    document.querySelector("#theme").onclick=function(){ var isLight=document.documentElement.getAttribute("data-theme")==="light"; if(isLight){ document.documentElement.removeAttribute("data-theme"); localStorage.setItem("sb_theme","dark"); } else { document.documentElement.setAttribute("data-theme","light"); localStorage.setItem("sb_theme","light"); } };
    document.querySelector("#back").onclick=function(){ if(history.length>1) history.back(); else location.href="/"; };
  }catch(e){}
})();
</script>

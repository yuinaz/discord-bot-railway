(function(){if(!window.ENABLE_PARTICLES)return;const c=document.getElementById('particles');if(!c)return;const x=c.getContext('2d');let w,h,d=[];function R(a,b){return Math.random()*(b-a)+a}function reset(){w=c.width=innerWidth;h=c.height=innerHeight;const n=Math.min(120,Math.floor(w*h/12000));d=[];for(let i=0;i<n;i++)d.push({x:R(0,w),y:R(0,h),vx:R(-.4,.4),vy:R(-.4,.4),r:R(1,2.2),o:R(.2,.8)})}function step(){x.clearRect(0,0,w,h);x.fillStyle='#fff';for(const p of d){p.x+=p.vx;p.y+=p.vy;if(p.x<0||p.x>w)p.vx*=-1;if(p.y<0||p.y>h)p.vy*=-1;x.globalAlpha=p.o;x.beginPath();x.arc(p.x,p.y,p.r,0,Math.PI*2);x.fill()}x.globalAlpha=1;requestAnimationFrame(step)}addEventListener('resize',reset);reset();step();})();
(function(){if(!(window.ENABLE_PARTICLES||false))return;const c=document.getElementById('particles');if(!c)return;const ctx=c.getContext('2d');let w,h,d=[];function r(a,b){return Math.random()*(b-a)+a}function reset(){w=c.width=innerWidth;h=c.height=innerHeight;const n=Math.min(120,Math.floor(w*h/12000));d=[];for(let i=0;i<n;i++)d.push({x:r(0,w),y:r(0,h),vx:r(-.4,.4),vy:r(-.4,.4),r:r(1,2.2),o:r(.2,.8)})}function step(){ctx.clearRect(0,0,w,h);ctx.fillStyle='#fff';for(const p of d){p.x+=p.vx;p.y+=p.vy;if(p.x<0||p.x>w)p.vx*=-1;if(p.y<0||p.y>h)p.vy*=-1;ctx.globalAlpha=p.o;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill()}ctx.globalAlpha=1;requestAnimationFrame(step)}window.addEventListener('resize',reset);reset();step();})();